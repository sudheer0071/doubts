<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Interest</title>
</head>
<style>
  .res{
    background-color: antiquewhite;
    border-radius: 5px;
    border: 1px,solid , black;
    justify-content: center;
  }
</style>
<body>
  <h1>Simple Interest</h1>
  <form action="/simpleInterst" method="POST">
    <input type="text"id="p" name="p" placeholder="Enter Principal">
    <br><br>
    <input type="text"id="r" name="r" placeholder="Enter Rate">
    <br><br>
    <input type="text"id="t" name="t" placeholder="Enter Time">
  </form>
    <br><br>
    <button onclick="simpleinterest()">Simple interest</button>
    <br><br>
  <div id="simpleInterest" ></div>
</body>
<!-- 
<script>  
async function simpleinterest(){
  const p = document.getElementById("p").value
  const r = document.getElementById("r").value
  const t = document.getElementById("t").value

  const response = await fetch("https://sum-server.100xdevs.com/interest?principal="+p+"&rate="+r+"&time="+t)
  const data = await response.json()
  const res = { total:data.total, interest: data.interest}
  
  document.getElementById("simpleInterest").innerHTML = `
     <h3 class="res">Total = ${JSON.stringify(data.total)}</h3>
     <h3 class="res">Interest = ${JSON.stringify(data.interest)}</h3>
  `
}
</script> -->

<script>  
async function simpleinterest(){
  const p = document.getElementById("p").value
  const r = document.getElementById("r").value
  const t = document.getElementById("t").value

  const response = await fetch('localhost:3000/simpleInterest',{
    method: 'POST',
    headers:{
      'Content-Type':'application/json'
    },
    body:{p:p,r:r,t:t}
    
  })
  if (response.ok) {
    
    const data = await response.json()
    const res = { total:data.total, interest: data.interest}
    document.getElementById("simpleInterest").innerHTML = `
       <h3 class="res">Total = ${JSON.stringify(data.total)}</h3>
       <h3 class="res">Interest = ${JSON.stringify(data.interest)}</h3>
    `
  }
  else{
    console.error("failed to fetch");
  }
  
}
</script>

</html>